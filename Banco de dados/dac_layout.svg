<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="297mm" height="210mm" viewBox="0 0 297 210">
  <defs>
    <style>
      /* Tipografia e cores fixas (sem variáveis) para compatibilidade ampla */
      text { font-family: 'Segoe UI', Arial, Helvetica, sans-serif; fill: #0F172A; }
      .title { font-size: 10px; font-weight: 600; }
      .subtitle { font-size: 5px; fill: #6B7280; }
      .section { font-size: 6px; font-weight: 600; }
      .label { font-size: 4px; fill: #6B7280; }
      .body { font-size: 4px; }
      .small { font-size: 3.2px; }
      .caption { font-size: 3.4px; fill: #6B7280; text-anchor: middle; }
      .panel { fill: #F3F4F6; stroke: #374151; stroke-width: 0.3; rx: 2; ry: 2; }
      .panel-header { fill: #1A4A7F; }
      .panel-header-text { fill: #FFFFFF; font-size: 4.2px; font-weight: 600; }
      .divider { stroke: #374151; stroke-width: 0.25; stroke-dasharray: 0.8 0.8; }
      .link { stroke: #374151; stroke-width: 0.4; fill: none; }
      .arrow { marker-end: url(#arrowHead); }
    </style>

    <!-- Margens e grid -->
    <clipPath id="pageMargins">
      <rect x="15" y="12" width="267" height="186" />
    </clipPath>

    <!-- Ponta de seta discreta -->
    <marker id="arrowHead" markerWidth="3" markerHeight="3" refX="2.5" refY="1.5" orient="auto" viewBox="0 0 3 3">
      <path d="M0,0 L3,1.5 L0,3 Z" fill="var(--line)" />
    </marker>
  </defs>

  <!-- Fundo geral -->
  <rect x="0" y="0" width="297" height="210" fill="#FFFFFF" />

  <!-- Área útil com margens -->
  <g clip-path="url(#pageMargins)">
    <!-- Cabeçalho -->
    <text x="15" y="20" class="title">Banco de Dados — Sistema DAC (2025)</text>
    <text x="15" y="26" class="subtitle">Documento vetorial — Diagrama e layout profissional (A4 paisagem, margens de 15 mm)</text>

    <!-- Linha divisória do cabeçalho -->
    <line x1="15" y1="30" x2="282" y2="30" class="divider" />

    <!-- Título da seção principal -->
    <text x="15" y="40" class="section">Diagrama de Entidade-Relacionamento (ER)</text>
    <text x="15" y="46" class="label">Cardinalidades e chaves indicadas — elementos vetoriais nítidos</text>

    <!-- Painéis (tabelas) -->
    <!-- Regions -->
    <g transform="translate(20, 60)">
      <rect width="65" height="42" class="panel" />
      <rect width="65" height="10" class="panel-header" />
      <text x="3" y="6.5" class="panel-header-text">regions</text>
      <text x="3" y="16" class="body">id (PK, integer)</text>
      <text x="3" y="22" class="body">code (unique, varchar)</text>
      <text x="3" y="28" class="body">name (varchar)</text>
      <text x="3" y="34" class="body">state (varchar)</text>
      <text x="3" y="40" class="body">macro_region (varchar)</text>
    </g>

    <!-- Households -->
    <g transform="translate(100, 60)">
      <rect width="75" height="52" class="panel" />
      <rect width="75" height="10" class="panel-header" />
      <text x="3" y="6.5" class="panel-header-text">households</text>
      <text x="3" y="16" class="body">id (PK, integer)</text>
      <text x="3" y="22" class="body">region_id (FK → regions.id)</text>
      <text x="3" y="28" class="body">city (varchar)</text>
      <text x="3" y="34" class="body">area_type (varchar)</text>
      <text x="3" y="40" class="body">income_range (varchar)</text>
      <text x="3" y="46" class="body">household_size (integer)</text>
      <text x="3" y="52" class="body">has_internet (boolean)</text>
    </g>

    <!-- Individuals -->
    <g transform="translate(190, 60)">
      <rect width="80" height="60" class="panel" />
      <rect width="80" height="10" class="panel-header" />
      <text x="3" y="6.5" class="panel-header-text">individuals</text>
      <text x="3" y="16" class="body">id (PK, integer)</text>
      <text x="3" y="22" class="body">household_id (FK → households.id)</text>
      <text x="3" y="28" class="body">age (integer)</text>
      <text x="3" y="34" class="body">gender (varchar)</text>
      <text x="3" y="40" class="body">education_level (varchar)</text>
      <text x="3" y="46" class="body">has_disability (boolean)</text>
      <text x="3" y="52" class="body">employment_status (varchar)</text>
      <text x="3" y="58" class="body">created_at (timestamp)</text>
    </g>

    <!-- DeviceUsage -->
    <g transform="translate(190, 130)">
      <rect width="80" height="48" class="panel" />
      <rect width="80" height="10" class="panel-header" />
      <text x="3" y="6.5" class="panel-header-text">device_usage</text>
      <text x="3" y="16" class="body">id (PK, integer)</text>
      <text x="3" y="22" class="body">individual_id (FK → individuals.id)</text>
      <text x="3" y="28" class="body">device_type (varchar)</text>
      <text x="3" y="34" class="body">has_device (boolean)</text>
      <text x="3" y="40" class="body">usage_frequency (varchar)</text>
      <text x="3" y="46" class="body">access_location (varchar)</text>
    </g>

    <!-- InternetUsage -->
    <g transform="translate(100, 130)">
      <rect width="75" height="48" class="panel" />
      <rect width="75" height="10" class="panel-header" />
      <text x="3" y="6.5" class="panel-header-text">internet_usage</text>
      <text x="3" y="16" class="body">id (PK, integer)</text>
      <text x="3" y="22" class="body">individual_id (FK → individuals.id)</text>
      <text x="3" y="28" class="body">uses_internet (boolean)</text>
      <text x="3" y="34" class="body">access_frequency (varchar)</text>
      <text x="3" y="40" class="body">main_activities (text)</text>
      <text x="3" y="46" class="body">barriers_to_access (text)</text>
    </g>

    <!-- Conexões (setas discretas) -->
    <path d="M85,81 C92,81 96,81 100,81" class="link arrow" /> <!-- regions → households -->
    <path d="M175,88 C183,88 186,88 190,88" class="link arrow" /> <!-- households → individuals -->
    <path d="M230,118 C230,124 230,127 230,130" class="link arrow" /> <!-- individuals → device_usage -->
    <path d="M215,118 C215,124 215,127 175,130" class="link arrow" /> <!-- individuals → internet_usage -->

    <!-- Legenda cromática e notas -->
    <g transform="translate(15, 186)">
      <rect x="0" y="0" width="4" height="4" fill="#1A4A7F" />
      <text x="6" y="3" class="small">Cabeçalhos (azul sóbrio) — alta legibilidade</text>
      <rect x="90" y="0" width="4" height="4" fill="#2A7F62" />
      <text x="96" y="3" class="small">Acentos e elementos (verde sóbrio)</text>
    </g>

    <!-- Rodapé com alinhamento central -->
    <text x="148.5" y="196" class="caption">Arte vetorial — A4 paisagem · Margens 15 mm · Tipografia Segoe UI</text>
  </g>
</svg>